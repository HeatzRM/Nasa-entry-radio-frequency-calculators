{% extends "base.html" %}

{% block content %}

{% include 'nav.html' %}

<body>

    
  <div class="ui main text container">
  <br />
  
  <h1>Line of Sight Calculator</h1>
  <br />
    <h4 class="ui horizontal divider header">
    <i class="balance scale icon"></i>
    Formula
    </h4>
    <br />
  
  <img src="http://latex.codecogs.com/gif.latex?r=\sqrt{(\variable{X2}-\variable{X1})^2 + (\variable{Y2}-\variable{Y1})^2}" border="0"/>
  
  <br />

    <h4 class="ui horizontal divider header">
        <i class="calculator icon"></i>
        Calculator
    </h4>

    <div class="ui placeholder segment">
  <div class="ui two column very relaxed stackable grid">
    <div class="column">
      <div class="ui form">

        <div class="field">
          <label>Latitude 1 (X1)</label>
          <div class="ui left icon input">
            <input type="text" placeholder="Latitude 1" id="X1">
            <i class="map pin icon"></i>
          </div>
        </div>

        <div class="field">
        <label>Longitude 1 (Y1)</label>
          <div class="ui left icon input">
            <input type="text" placeholder="Longitude 1" id="Y1">
            <i class="map pin icon"></i>
          </div>
        </div>

        
        <div class="field">
        <label>Latitude 2 (X2)</label>
          <div class="ui left icon input">
            <input type="text" placeholder="Latitude 2" id="X2">
            <i class="map pin icon"></i>
          </div>
        </div>

          <div class="field">
        <label>Longitude 2 (Y2)</label>
          <div class="ui left icon input">
            <input type="text" placeholder="Longitude 2" id="Y2">
            <i class="map pin icon"></i>
          </div>
        </div>

        
        <div class="ui blue button" id="compute">
        Calculate
        </div>
      </div>
    </div>
    <div class="middle aligned column">
      <div id='result'>
        
      </div>
    </div>
  </div>
  <div class="ui vertical divider">
    <div>Result <i class="arrow right icon"></i></div>
  </div>
</div>


     <h4 class="ui horizontal divider header">
        <i class="wifi icon"></i>
        Techno PH
    </h4>



  </div>

  <script>

$( document ).ready(function() {
     

 $( "#compute" ).click(function() {
      var X1 = $('#X1').val();
      var Y1 = $('#Y1').val();
      var X2 = $('#X2').val();
      var Y2 = $('#Y2').val();
      
      
      $.ajax({ 
        type : "POST", 
        url : `compute_light_of_sight?X1=${X1}&Y1=${Y1}&X2=${X2}&Y2=${Y2}`, 
        success : function(result) { 
           
           console.log(eval(result))

           $('#result').html(`<p>
           Result is:
           <br />
            <br />
           ${  Math.round(eval(result).r * 100) / 100 }
           
           `);


           
        }, 
        error : function(result) { 
          console.log(result);
        } 
      }); 


    });
});






  </script>
  

</body>


{% endblock %}